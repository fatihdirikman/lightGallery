/**
 * lightgallery | 0.0.0 | December 24th 2020
 * http://sachinchoolur.github.io/lightGallery/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.lightgallery={})}(this,function(t){"use strict";"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var s=document.createEvent("CustomEvent");return s.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),s}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e=(i.prototype._getSelector=function(t,e){return void 0===e&&(e=document),"string"!=typeof t?t:(e=e||document,"#"===t.substring(0,1)?e.querySelector(t):e.querySelectorAll(t))},i.prototype._each=function(t){return this.selector&&(void 0!==this.selector.length?[].forEach.call(this.selector,t):t(this.selector,0)),this},i.prototype._setCssVendorPrefix=function(t,e,s){e=e.replace(/-([a-z])/gi,function(t,e){return e.toUpperCase()});-1!==this.cssVenderPrefixes.indexOf(e)?(t.style[e.charAt(0).toLowerCase()+e.slice(1)]=s,t.style["webkit"+e]=s,t.style["moz"+e]=s,t.style["ms"+e]=s,t.style["o"+e]=s):t.style[e]=s},i.prototype._getFirstEl=function(){return this.selector&&void 0!==this.selector.length?this.selector[0]:this.selector},i.prototype.attr=function(e,s){return void 0===s?this.firstElement?this.firstElement.getAttribute(e):"":(this._each(function(t){t.setAttribute(e,s)}),this)},i.prototype.find=function(t){return y(this._getSelector(t,this.selector))},i.prototype.first=function(){return void 0!==this.selector.length?y(this.selector[0]):y(this.selector)},i.prototype.eq=function(t){return y(this.selector[t])},i.prototype.parent=function(){return y(this.selector.parentElement)},i.prototype.get=function(){return this.selector},i.prototype.removeAttr=function(e){return this._each(function(t){t.removeAttribute(e)}),this},i.prototype.wrap=function(t){if(!this.firstElement)return this;var e=document.createElement("div");return e.className=t,this.firstElement.parentNode.insertBefore(e,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),e.appendChild(this.firstElement),this},i.prototype.addClass=function(t){return void 0===t&&(t=""),this._each(function(e){t.split(" ").forEach(function(t){e.classList.add(t)})}),this},i.prototype.removeClass=function(t){return this._each(function(e){t.split(" ").forEach(function(t){e.classList.remove(t)})}),this},i.prototype.hasClass=function(t){return!!this.firstElement&&this.firstElement.classList.contains(t)},i.prototype.hasAttribute=function(t){return!!this.firstElement&&this.firstElement.hasAttribute(t)},i.prototype.toggleClass=function(t){return this.firstElement&&(this.hasClass(t)?this.removeClass(t):this.addClass(t)),this},i.prototype.css=function(e,s){var i=this;return this._each(function(t){i._setCssVendorPrefix(t,e,s)}),this},i.prototype.on=function(t,e){var s=this;return this.selector&&t.split(" ").forEach(function(t){Array.isArray(i.eventListeners[t])||(i.eventListeners[t]=[]),i.eventListeners[t].push(e),s.selector.addEventListener(t.split(".")[0],e)}),this},i.prototype.once=function(t,e){var s=this;return this.on(t,function(){s.off(t),e(t)}),this},i.prototype.off=function(e){var s=this;return this.selector&&Array.isArray(i.eventListeners[e])&&(i.eventListeners[e].forEach(function(t){s.selector.removeEventListener(e.split(".")[0],t)}),i.eventListeners[e]=[]),this},i.prototype.trigger=function(t,e){if(!this.firstElement)return this;e=new CustomEvent(t.split(".")[0],{detail:e||null});return this.firstElement.dispatchEvent(e),this},i.prototype.load=function(t){var e=this;return fetch(t).then(function(t){e.selector.innerHTML=t}),this},i.prototype.html=function(e){return void 0===e?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(t){t.innerHTML=e}),this)},i.prototype.append=function(e){return this._each(function(t){"string"==typeof e?t.insertAdjacentHTML("beforeend",e):t.appendChild(e)}),this},i.prototype.prepend=function(e){return this._each(function(t){t.insertAdjacentHTML("afterbegin",e)}),this},i.prototype.remove=function(){return this._each(function(t){t.parentNode.removeChild(t)}),this},i.prototype.empty=function(){return this._each(function(t){t.innerHTML=""}),this},i.prototype.scrollTop=function(t){return void 0!==t?(document.body.scrollTop=t,document.documentElement.scrollTop=t,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},i.prototype.scrollLeft=function(t){return void 0!==t?(document.body.scrollLeft=t,document.documentElement.scrollLeft=t,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},i.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var t=this.firstElement.getBoundingClientRect();return{left:t.left+this.scrollLeft(),top:t.top+this.scrollTop()}},i.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},i.prototype.width=function(){var t=this.style();return this.firstElement.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)},i.prototype.height=function(){var t=this.style();return this.firstElement.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)},i.eventListeners={},i);function i(t){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(t),this.firstElement=this._getFirstEl(),this}function y(t){return new e(t)}var s=["src","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","width","facebookShareUrl","tweetText","witterShareUrl","googleplusUhareUrl","pinterestShareUrl","pinterestText"];var v=function(t){var e=y(t),s=e.attr("data-lg-size");if(s){var i=s.split("-"),o=parseInt(i[0],10),t=parseInt(i[1],10),s=document.body.clientWidth,i=window.innerHeight,o=Math.min(s,o),i=Math.min(i,t),t=e.width(),e=e.height(),i=Math.min(o/t,i/e);return{width:t*i,height:e*i}}},n=function(t,e){if(e){var s=y(t),i=document.body.clientWidth,o=window.innerHeight,l=s.width(),r=s.height(),t=s.style(),i=(i-l)/2-(s.offset().left+parseFloat(t.paddingLeft)+parseFloat(t.borderLeft)),t=(o-r)/2-(s.offset().top+parseFloat(t.paddingTop)+parseFloat(t.borderTop))+y(window).scrollTop();return"translate3d("+(i*=-1)+"px, "+(t*=-1)+"px, 0) scale3d("+l/e.width+", "+r/e.height+", 1)"}},b=function(t,e){return'<div class="lg-video-cont lg-has-iframe" style="max-width:'+e+'">\n                    <div class="lg-video">\n                        <iframe class="lg-object" frameborder="0" src="'+t+'"  allowfullscreen="true"></iframe>\n                    </div>\n                </div>'},I=function(t){for(var e=[],s=[],i="",o=0;o<t.length;o++){var l=t[o].split(" ");""===l[0]&&l.splice(0,1),s.push(l[0]),e.push(l[1])}for(var r=window.innerWidth,n=0;n<e.length;n++)if(parseInt(e[n],10)>r){i=s[n];break}return i},w=function(t,e){return'<div class="lg-video-cont '+(e&&e.youtube?"lg-has-youtube":e&&e.vimeo?"lg-has-vimeo":"lg-has-html5")+'"><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+t+'" /></div></div>'},o=function(t,e,a){var d=[],h=function(){for(var t=0,e=0,s=arguments.length;e<s;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<s;e++)for(var l=arguments[e],r=0,n=l.length;r<n;r++,o++)i[o]=l[r];return i}(s,e);return[].forEach.call(t,function(t){for(var e={},s=0;s<t.attributes.length;s++){var i,o,l=t.attributes[s];l.specified&&(i="href"===(o=l.name)?"src":o=(o=(o=o.replace("data-","")).charAt(0).toLowerCase()+o.slice(1)).replace(/-([a-z])/g,function(t){return t[1].toUpperCase()}),o="",-1<h.indexOf(i)&&(o=i),o&&(e[o]=l.value))}var r=y(t),n=r.find("img").first().attr("alt"),r=r.attr("title");a&&!e.subHtml&&(e.subHtml=r||n||""),e.alt=n||r||"",d.push(e)}),d},l={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:400,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:350,startAnimationDuration:350,zoomFromImage:!0,hideBarsDelay:2e3,showBarsAfter:0,hideSubHtml:!0,useLeft:!1,ariaLabelledby:"",ariaDescribedby:"",closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,numberOfSlideItemsInDom:3,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],galleryId:1,customSlideName:!0,exThumbImage:""};window.LG=y;var r=0;window.lgModules=window.lgModules||{};var a=(d.prototype.init=function(){var o=this;this.addSlideVideoInfo(this.galleryItems);var t=0;if(this.buildFromHash()||(t=this.buildStructure()),this.s.dynamic){var e=this.s.index||0;setTimeout(function(){o.openGallery(e)},t)}else for(var l=this,s=0;s<this.items.length;s++)!function(s){var i=l.items[s];y(i).on("click.lgcustom-item-"+s,function(t){t.preventDefault();var e,t=o.s.index||s;o.s.zoomFromImage&&(e=v(i),e=n(i,e)),o.openGallery(t,e)})}(s)},d.prototype.buildModules=function(){var t,e=this,s=0;for(t in window.lgModules)!function(t){s++,setTimeout(function(){e.modules[t]=new window.lgModules[t](e)},10*s)}(t);return 10*s},d.prototype.getSlideItem=function(t){return y(this.getSlideItemId(t))},d.prototype.getSlideItemId=function(t){return"#lg-item-"+this.lgId+"-"+t},d.prototype.getById=function(t){return t+"-"+this.lgId},d.prototype.buildStructure=function(){var e=this,t=y("#"+this.getById("lg-container")).get();if(t&&t.length)return 0;var s="",i="";this.s.controls&&1<this.galleryItems.length&&(s='<div class="lg-actions">\n                <button type="button" id="'+this.getById("lg-prev")+'" aria-label="Previous slide" class="lg-prev lg-icon"> '+this.s.prevHtml+' </button>\n                <button type="button" id="'+this.getById("lg-next")+'" aria-label="Next slide" class="lg-next lg-icon"> '+this.s.nextHtml+" </button>\n                </div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(i='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var o="";this.s.hideSubHtml&&(o+="lg-hide-sub-html ");var l=this.s.ariaLabelledby?'aria-labelledby="'+this.s.ariaLabelledby+'"':"",t=this.s.ariaDescribedby?'aria-describedby="'+this.s.ariaDescribedby+'"':"",i='\n        <div class="lg-container" id="'+this.getById("lg-container")+'" tabindex="-1" aria-modal="true" '+l+" "+t+' role="dialog"\n        >\n            <div id="'+this.getById("lg-backdrop")+'" class="lg-backdrop"></div>\n\n            <div id="'+this.getById("lg-outer")+'" class="lg-outer lg-hide-items '+this.s.addClass+" "+o+'">\n                    <div class="lg" style="width: '+this.s.width+"; height:"+this.s.height+'">\n                        <div id="'+this.getById("lg-inner")+'" class="lg-inner"></div>\n                        <div id="'+this.getById("lg-toolbar")+'" class="lg-toolbar lg-group">\n                        <button type="button" aria-label="Close gallery" id="'+this.getById("lg-close")+'" class="lg-close lg-icon"></button>\n                    </div>\n                    '+s+"\n                    "+i+"\n                </div> \n            </div>\n        </div>\n        ";return y(document.body).append(i),this.outer=y("#"+this.getById("lg-outer")),this.outer.get().focus(),this.s.useLeft?(this.outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.outer.addClass("lg-use-css3"),this.doCss()?this.outer.addClass("lg-css3"):(this.outer.addClass("lg-css"),this.s.speed=0),this.outer.addClass(this.s.mode),this.s.enableDrag&&1<this.galleryItems.length&&this.outer.addClass("lg-grab"),this.s.showAfterLoad&&this.outer.addClass("lg-show-after-load"),this.doCss()&&((i=y("#"+this.getById("lg-inner"))).css("transition-timing-function",this.s.cssEasing),i.css("transition-duration",this.s.speed+"ms")),this.s.download&&this.outer.find(".lg-toolbar").append('<a id="'+this.getById("lg-download")+'" target="_blank" aria-label="Download" download class="lg-download lg-icon"></a>'),this.counter(),y(window).on("resize.lg orientationchange.lg",function(){var t;e.s.zoomFromImage&&!e.s.dynamic&&(t=e.getDummyImgStyles(),e.outer.find(".lg-current .lg-dummy-img").first().attr("style",t))}),this.hideBars(),this.closeGallery(),this.buildModules()},d.prototype.appendSlides=function(t){this.galleryItems=this.galleryItems.concat(t),y("#"+this.getById("lg-counter-all")).html(this.galleryItems.length+""),this.LGel.trigger("appendSlides.lg",{items:t})},d.prototype.getItems=function(){return this.items=[],this.s.dynamic?this.s.dynamicEl||[]:("this"===this.s.selector?this.items.push(this.el):this.s.selector?this.s.selectWithin?(t=y(this.s.selectWithin),this.items=t.find(this.s.selector).get()):this.items=this.el.querySelectorAll(this.s.selector):this.items=this.el.children,o(this.items,this.s.extraProps,this.s.getCaptionFromTitleOrAlt));var t},d.prototype.openGallery=function(t,e){var s,i,o,l,r=this;this.lgOpened||(this.lgOpened=!0,s=y("#"+this.getById("lg-backdrop")),i=y("#"+this.getById("lg-container")),this.outer.removeClass("lg-hide-items"),this.s.zoomFromImage&&e?this.s.zoomFromImage&&e&&this.outer.addClass("lg-zoom-from-image"):this.outer.addClass(this.s.startClass),s.css("transition-duration",this.s.backdropDuration+"ms"),o=this.getItemsToBeInsertedToDom(t,t),this.currentItemsInDom=o,l="",o.forEach(function(t){l=l+'<div id="'+t+'" class="lg-item"></div>'}),y("#"+this.getById("lg-inner")).append(l),this.s.zoomFromImage&&e||this.getSlideItem(t).removeClass("lg-complete"),this.LGel.trigger("onBeforeOpen.lg"),this.getSlideItem(t).addClass("lg-current"),this.lGalleryOn=!1,setTimeout(function(){r.prevScrollTop=y(window).scrollTop(),r.index=t,r.s.zoomFromImage&&e&&(r.getSlideItem(t).addClass("start-end-progress").css("transform",e).css("transition-duration",r.s.startAnimationDuration+"ms"),setTimeout(function(){r.getSlideItem(t).css("transform","translate3d(0, 0, 0) translate3d(0, 0, 0)")},100)),i.addClass("lg-show"),setTimeout(function(){s.addClass("in"),i.addClass("lg-show-in")},10),r.s.zoomFromImage&&e||setTimeout(function(){r.outer.addClass("lg-visible")},r.s.backdropDuration),r.slide(t,!1,!1,!1),r.LGel.trigger("onAfterOpen.lg"),r.s.keyPress&&r.keyPress(),setTimeout(function(){r.enableDrag(),r.enableSwipe()},50),1<r.galleryItems.length&&(r.arrow(),r.s.mousewheel&&r.mousewheel())}),y(document.body).addClass("lg-on"))},d.prototype.buildFromHash=function(){var t=this,e=window.location.hash;if(0<e.indexOf("lg="+this.s.galleryId)){y(document.body).addClass("lg-from-hash");var s=this.getIndexFromUrl(e),e=this.buildStructure();return setTimeout(function(){t.openGallery(s)},e),!0}},d.prototype.hideBars=function(){var t=this;setTimeout(function(){t.outer.removeClass("lg-hide-items"),0<t.s.hideBarsDelay&&(t.outer.on("mousemove.lg click.lg touchstart.lg",function(){t.outer.removeClass("lg-hide-items"),clearTimeout(t.hideBarTimeout),t.hideBarTimeout=setTimeout(function(){t.outer.addClass("lg-hide-items")},t.s.hideBarsDelay)}),t.outer.trigger("mousemove.lg"))},this.s.showBarsAfter)},d.prototype.doCss=function(){for(var t=!1,e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],s=document.documentElement,i=0;i<e.length;i++)if(e[i]in s.style){t=!0;break}return t},d.prototype.counter=function(){var t;this.s.counter&&(t='<div class="lg-counter" role="status" aria-live="polite">\n                <span id="'+this.getById("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+' </span> / \n                <span id="'+this.getById("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>",this.outer.find(this.s.appendCounterTo).append(t))},d.prototype.addHtml=function(t){var e,s,i;this.galleryItems[t].subHtmlUrl?s=this.galleryItems[t].subHtmlUrl:e=this.galleryItems[t].subHtml,s||(e?"."!==(i=e.substring(0,1))&&"#"!==i||(e=(this.s.subHtmlSelectorRelative&&!this.s.dynamic?y(this.items).eq(t).find(e):y(e)).first().html()):e=""),".lg-sub-html"===this.s.appendSubHtmlTo?s?this.outer.find(".lg-sub-html").load(s):this.outer.find(".lg-sub-html").html(e):(i=y(this.getSlideItemId(t)),s?i.load(s):i.append('<div class="lg-sub-html">'+e+"</div>")),null!=e&&(""===e?this.outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger("onAfterAppendSubHtml.lg",{index:t})},d.prototype.preload=function(t){for(var e=1;e<=this.s.preload&&!(e>=this.galleryItems.length-t);e++)this.loadContent(t+e,!1,!1);for(var s=1;s<=this.s.preload&&!(t-s<0);s++)this.loadContent(t-s,!1,!1)},d.prototype.getDummyImgStyles=function(t){return(t=t||v(y(this.items).eq(this.index).get()))?"width:"+t.width+"px; \n                margin-left: -"+t.width/2+"px;\n                margin-top: -"+t.height/2+"px; \n                height:"+t.height+"px":""},d.prototype.setImgMarkup=function(t,e,s){var i,o="";this.s.dynamic||(l=y(this.items).eq(s),i=v(l.get()));var l,r=this.galleryItems[s],r=r.alt?'alt="'+r.alt+'"':"";!this.lGalleryOn&&this.s.zoomFromImage&&i?i&&l&&(l=this.s.exThumbImage?l.attr(this.s.exThumbImage):l.find("img").first().attr("src"),l="<img "+r+' style="'+this.getDummyImgStyles(i)+'" class="lg-dummy-img" src="'+l+'" />',e.addClass("lg-first-slide"),o=l):o=" <img "+r+' class="lg-object lg-image" data-index="'+s+'" src="'+t+'" /> ';o='<div class="lg-img-wrap"> '+o+"</div>";e.prepend(o)},d.prototype.onLgObjectLoad=function(t,e,s,i,o){var l=this;o&&this.LGel.trigger("onSlideItemLoad.lg",{index:e,delay:s||0}),t.find(".lg-object").first().on("load.lg error.lg",function(){l.handleLgObjectLoad(t,e,s,i,o)})},d.prototype.handleLgObjectLoad=function(t,e,s,i,o){var l=this;setTimeout(function(){t.addClass("lg-complete lg-complete_"),o||l.LGel.trigger("onSlideItemLoad.lg",{index:e,delay:s||0})},i)},d.prototype.isVideo=function(t,e){if(!t)return this.galleryItems[e].video?{html5:!0}:void console.error("lightGallery :- data-src is not provided on slide item "+(e+1)+". Please make sure the selector property is properly configured. More info - http://sachinchoolur.github.io/lightGallery/demos/html-markup.html");var s=t.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),e=t.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),t=t.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);return s?{youtube:s}:e?{vimeo:e}:t?{wistia:t}:void 0},d.prototype.addSlideVideoInfo=function(t){var s=this;t.forEach(function(t,e){t.__slideVideoInfo=s.isVideo(t.src,e)})},d.prototype.loadContent=function(t,e,s){var i,o,l=this,r=this.galleryItems[t],n=y(this.getSlideItemId(t));r.poster&&(o=r.poster);var a,d=r.video&&JSON.parse(r.video);a=r.src,r.responsive&&(c=r.responsive.split(","),a=I(c)||a);var h,g=r.srcset,u=r.sizes,c=!1;this.galleryItems[t].iframe&&(c=!0),this.s.dynamic||(h=this.items[t],h=v(h));var m=0;s&&(m=this.s.zoomFromImage&&h?this.s.startAnimationDuration+10:this.s.backdropDuration+10);var p,r=r.__slideVideoInfo;if(!n.hasClass("lg-loaded")){if(c?(p=b(a,this.s.iframeMaxWidth),n.prepend(p)):o?(p=w(o,r),n.prepend(p),this.LGel.trigger("hasVideo.lg",{index:t,src:a,html5Video:d,hasPoster:!0})):r?(p='<div class="lg-video-cont "><div class="lg-video"></div></div>',n.prepend(p),this.LGel.trigger("hasVideo.lg",{index:t,src:a,html5Video:d,hasPoster:!1})):this.setImgMarkup(a,n,t),this.LGel.trigger("onAferAppendSlide.lg",{index:t}),i=n.find(".lg-object"),u&&i.attr("sizes",u),g){i.attr("srcset",g),console.log(i.get());try{picturefill({elements:[i.get()]})}catch(t){console.warn("lightGallery :- If you want srcset to be supported for older browser please include picturefil version 2 javascript library in your document.")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&this.addHtml(t)}var f=0;m&&!y(document.body).hasClass("lg-from-hash")&&(f=m),!this.lGalleryOn&&this.s.zoomFromImage&&h&&(setTimeout(function(){n.removeClass("start-end-progress").removeAttr("style")},this.s.startAnimationDuration+100),n.hasClass("lg-loaded")||setTimeout(function(){n.find(".lg-img-wrap").append('<img class="lg-object lg-image" data-index="'+t+'" src="'+a+'" />'),l.onLgObjectLoad(n,t,m,f,!0),n.find(".lg-object").first().on("load.lg error.lg",function(){l.loadContentOnLoad(t,n,f)})},this.s.startAnimationDuration+100)),n.addClass("lg-loaded"),this.onLgObjectLoad(n,t,m,f,!1),r&&r.html5&&!o&&n.addClass("lg-complete lg-complete_"),this.s.zoomFromImage&&h||!n.hasClass("lg-complete_")||!s||setTimeout(function(){n.addClass("lg-complete")},this.s.backdropDuration),(this.lGalleryOn=!0)===e&&(n.hasClass("lg-complete_")?this.preload(t):n.find(".lg-object").first().on("load.lg error.lg",function(){l.preload(t)}))},d.prototype.loadContentOnLoad=function(t,e,s){var i=this;setTimeout(function(){e.find(".lg-dummy-img").remove(),e.removeClass("lg-first-slide"),i.preload(t)},s+300)},d.prototype.getItemsToBeInsertedToDom=function(t,e,s){var i=this;void 0===s&&(s=0);var o=[],l=Math.max(s,3),l=Math.min(l,this.galleryItems.length),s="lg-item-"+this.lgId+"-"+e;if(this.galleryItems.length<=3)return this.galleryItems.forEach(function(t,e){o.push("lg-item-"+i.lgId+"-"+e)}),o;if(t<(this.galleryItems.length-1)/2){for(var r=t;t-l/2<r&&0<=r;r--)o.push("lg-item-"+this.lgId+"-"+r);for(var n=o.length,r=0;r<l-n;r++)o.push("lg-item-"+this.lgId+"-"+(t+r+1))}else{for(r=t;r<=this.galleryItems.length-1&&r<t+l/2;r++)o.push("lg-item-"+this.lgId+"-"+r);for(n=o.length,r=0;r<l-n;r++)o.push("lg-item-"+this.lgId+"-"+(t-r-1))}return this.s.loop&&(t===this.galleryItems.length-1?o.push("lg-item-"+this.lgId+"-0"):0===t&&o.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),-1===o.indexOf(s)&&o.push("lg-item-"+this.lgId+"-"+e),o},d.prototype.slide=function(t,e,s,i){var o=this,l=0;try{var r=this.outer.find(".lg-current").first().attr("id"),l=parseInt(r.split("-")[3])||0}catch(t){l=0}var n,a,d,h=this.getItemsToBeInsertedToDom(t,l,this.s.numberOfSlideItemsInDom);h.forEach(function(t){-1===o.currentItemsInDom.indexOf(t)&&y("#"+o.getById("lg-inner")).append('<div id="'+t+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(t){-1===h.indexOf(t)&&y("#"+t).remove()}),this.currentItemsInDom=h,this.lGalleryOn&&l===t||(n=this.galleryItems.length,d=this.lGalleryOn?this.s.speed:0,this.lgBusy||(this.s.download&&((a=!1!==this.galleryItems[t].downloadUrl&&(this.galleryItems[t].downloadUrl||this.galleryItems[t].src))?(y("#"+this.getById("lg-download")).attr("href",a),this.outer.removeClass("lg-hide-download")):this.outer.addClass("lg-hide-download")),y(this.el).trigger("onBeforeSlide.lg",{prevIndex:l,index:t,fromTouch:e,fromThumb:s}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){o.addHtml(t)},d),this.arrowDisable(t),i||(t<l?i="prev":l<t&&(i="next")),e?(this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide"),d=a=void 0,2<n?(a=t-1,d=t+1,(0===t&&l===n-1||t===n-1&&0===l)&&(d=0,a=n-1)):(a=0,d=1),"prev"===i?this.getSlideItem(d).addClass("lg-next-slide"):this.getSlideItem(a).addClass("lg-prev-slide"),this.getSlideItem(t).addClass("lg-current")):(this.outer.addClass("lg-no-trans"),this.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),"prev"===i?(this.getSlideItem(t).addClass("lg-prev-slide"),this.getSlideItem(l).addClass("lg-next-slide")):(this.getSlideItem(t).addClass("lg-next-slide"),this.getSlideItem(l).addClass("lg-prev-slide")),setTimeout(function(){o.outer.find(".lg-item").removeClass("lg-current"),o.getSlideItem(t).addClass("lg-current"),o.outer.removeClass("lg-no-trans")},50)),this.lGalleryOn?(setTimeout(function(){o.loadContent(t,!0,!1)},this.s.speed+50),setTimeout(function(){o.lgBusy=!1,o.LGel.trigger("onAfterSlide.lg",{prevIndex:l,index:t,fromTouch:e,fromThumb:s})},this.s.speed)):(this.loadContent(t,!0,!0),this.lgBusy=!1,this.LGel.trigger("onAfterSlide.lg",{prevIndex:l,index:t,fromTouch:e,fromThumb:s})),this.s.counter&&y("#"+this.getById("lg-counter-current")).html(t+1+"")),this.index=t)},d.prototype.touchMove=function(t,e){var s=e.pageX-t.pageX,i=e.pageY-t.pageY,e=!1;this.swipeDirection?e=!0:15<Math.abs(s)?(this.swipeDirection="horizontal",e=!0):15<Math.abs(i)&&(this.swipeDirection="vertical",e=!0),e&&(t=this.getSlideItem(this.index),"horizontal"===this.swipeDirection?(this.outer.addClass("lg-dragging"),this.setTranslate(t,s,0),e=t.get().offsetWidth,this.setTranslate(this.outer.find(".lg-prev-slide").first(),s-e,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),e+s,0)):"vertical"===this.swipeDirection&&(y("#"+this.getById("lg-container")).addClass("lg-dragging-vertical"),s=1-Math.abs(i)/window.innerHeight,y("#"+this.getById("lg-backdrop")).css("opacity",s),s=1-Math.abs(i)/(2*window.innerWidth),this.setTranslate(t,0,i,s,s)))},d.prototype.touchEnd=function(i,o){var l,r=this;"lg-slide"!==this.s.mode&&this.outer.addClass("lg-slide"),setTimeout(function(){var t=y("#"+r.getById("lg-container")),e=y("#"+r.getById("lg-backdrop"));t.removeClass("lg-dragging-vertical"),r.outer.removeClass("lg-dragging");var s=!0;if("horizontal"===r.swipeDirection){l=i.pageX-o.pageX;t=Math.abs(i.pageX-o.pageX);l<0&&t>r.s.swipeThreshold?(r.goToNextSlide(!0),s=!1):0<l&&t>r.s.swipeThreshold&&(r.goToPrevSlide(!0),s=!1)}else if("vertical"===r.swipeDirection){if(100<(l=Math.abs(i.pageY-o.pageY)))return void r.destroy();e.css("opacity",1)}r.outer.find(".lg-item").removeAttr("style"),s&&Math.abs(i.pageX-o.pageX)<5&&r.LGel.trigger("onSlideClick.lg"),r.swipeDirection=void 0}),setTimeout(function(){r.outer.hasClass("lg-dragging")||"lg-slide"===r.s.mode||r.outer.removeClass("lg-slide")},this.s.speed+100)},d.prototype.enableSwipe=function(){var s=this,i={},e={},o=!1,l=!1,t=y("#"+this.getById("lg-inner"));this.s.enableSwipe&&this.doCss()&&(t.on("touchstart.lg",function(t){var e=s.getSlideItem(s.index);!y(t.target).hasClass("lg-item")&&!e.get().contains(t.target)||s.outer.hasClass("lg-zoomed")||s.lgBusy||1!==t.targetTouches.length||(l=!0,s.touchAction="swipe",t.preventDefault(),s.manageSwipeClass(),i={pageX:t.targetTouches[0].pageX,pageY:t.targetTouches[0].pageY})}),t.on("touchmove.lg",function(t){l&&"swipe"===s.touchAction&&1===t.targetTouches.length&&(t.preventDefault(),e={pageX:t.targetTouches[0].pageX,pageY:t.targetTouches[0].pageY},s.touchMove(i,e),o=!0)}),t.on("touchend.lg",function(){"swipe"===s.touchAction&&(o?(o=!1,s.touchEnd(e,i)):l&&s.LGel.trigger("onSlideClick.lg"),s.touchAction=void 0,l=!1)}))},d.prototype.enableDrag=function(){var s=this,i={},e={},o=!1,l=!1;this.s.enableDrag&&this.doCss()&&(this.outer.on("mousedown.lg",function(t){var e=s.getSlideItem(s.index);(y(t.target).hasClass("lg-item")||e.get().contains(t.target))&&(s.outer.hasClass("lg-zoomed")||s.lgBusy||(t.preventDefault(),s.lgBusy||(s.manageSwipeClass(),i={pageX:t.pageX,pageY:t.pageY},o=!0,s.outer.get().scrollLeft+=1,--s.outer.get().scrollLeft,s.outer.removeClass("lg-grab").addClass("lg-grabbing"),s.LGel.trigger("onDragstart.lg"))))}),y(window).on("mousemove.lg",function(t){o&&(l=!0,e={pageX:t.pageX,pageY:t.pageY},s.touchMove(i,e),s.LGel.trigger("onDragmove.lg"))}),y(window).on("mouseup.lg",function(t){t=y(t.target);l?(l=!1,s.touchEnd(e,i),s.LGel.trigger("onDragend.lg")):(t.hasClass("lg-object")||t.hasClass("lg-video-play"))&&s.LGel.trigger("onSlideClick.lg"),o&&(o=!1,s.outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},d.prototype.manageSwipeClass=function(){var t=this.index+1,e=this.index-1;this.s.loop&&2<this.galleryItems.length&&(0===this.index?e=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(t=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),-1<e&&this.getSlideItem(e).addClass("lg-prev-slide"),this.getSlideItem(t).addClass("lg-next-slide")},d.prototype.goToNextSlide=function(t){var e=this,s=this.s.loop;t&&this.galleryItems.length<3&&(s=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger("onBeforeNextSlide.lg",{index:this.index}),this.slide(this.index,!!t,!1,"next")):s?(this.index=0,this.LGel.trigger("onBeforeNextSlide.lg",{index:this.index}),this.slide(this.index,!!t,!1,"next")):this.s.slideEndAnimatoin&&!t&&(this.outer.addClass("lg-right-end"),setTimeout(function(){e.outer.removeClass("lg-right-end")},400)))},d.prototype.goToPrevSlide=function(t){var e=this,s=this.s.loop;t&&this.galleryItems.length<3&&(s=!1),this.lgBusy||(0<this.index?(this.index--,this.LGel.trigger("onBeforePrevSlide.lg",{index:this.index,fromTouch:t}),this.slide(this.index,!!t,!1,"prev")):s?(this.index=this.galleryItems.length-1,this.LGel.trigger("onBeforePrevSlide.lg",{index:this.index,fromTouch:t}),this.slide(this.index,!!t,!1,"prev")):this.s.slideEndAnimatoin&&!t&&(this.outer.addClass("lg-left-end"),setTimeout(function(){e.outer.removeClass("lg-left-end")},400)))},d.prototype.keyPress=function(){var e=this;1<this.galleryItems.length&&y(window).on("keyup.lg.window",function(t){1<e.galleryItems.length&&(37===t.keyCode&&(t.preventDefault(),e.goToPrevSlide()),39===t.keyCode&&(t.preventDefault(),e.goToNextSlide()))}),y(window).on("keydown.lg",function(t){!0===e.s.escKey&&27===t.keyCode&&(t.preventDefault(),e.outer.hasClass("lg-thumb-open")?e.outer.removeClass("lg-thumb-open"):e.destroy())})},d.prototype.arrow=function(){var t=this;y("#"+this.getById("lg-prev")).on("click.lg",function(){t.goToPrevSlide()}),console.log(y("#"+this.getById("lg-next"))),y("#"+this.getById("lg-next")).on("click.lg",function(){console.log("calling"),t.goToNextSlide()})},d.prototype.arrowDisable=function(t){var e,s;!this.s.loop&&this.s.hideControlOnEnd&&(e=y("#"+this.getById("lg-prev")),s=y("#"+this.getById("lg-next")),t+1<this.galleryItems.length?e.removeAttr("disabled").removeClass("disabled"):e.attr("disabled","disabled").addClass("disabled"),0<t?s.removeAttr("disabled").removeClass("disabled"):s.attr("disabled","disabled").addClass("disabled"))},d.prototype.getIndexFromUrl=function(t){void 0===t&&(t=window.location.hash);var e=t.split("&slide=")[1],s=0;if(this.s.customSlideName)for(var i=0;i<this.galleryItems.length;i++){if(this.galleryItems[i].slideName===e){s=i;break}}else s=parseInt(e,10);return isNaN(s)?0:s},d.prototype.setTranslate=function(t,e,s,i,o){void 0===i&&(i=1),void 0===o&&(o=1),this.s.useLeft?t.css("left",e+""):t.css("transform","translate3d("+e+"px, "+s+"px, 0px) scale3d("+i+", "+o+", 1)")},d.prototype.mousewheel=function(){var e=this;this.outer.on("mousewheel.lg",function(t){t.deltaY&&(0<t.deltaY?e.goToPrevSlide():e.goToNextSlide(),t.preventDefault())})},d.prototype.closeGallery=function(){var e=this,s=!1;y("#"+this.getById("lg-close")).on("click.lg",function(){e.destroy()}),this.s.closable&&(this.outer.on("mousedown.lg",function(t){t=y(t.target);s=!!(t.hasClass("lg-outer")||t.hasClass("lg-item")||t.hasClass("lg-img-wrap"))}),this.outer.on("mousemove.lg",function(){s=!1}),this.outer.on("mouseup.lg",function(t){t=y(t.target);(t.hasClass("lg-outer")||t.hasClass("lg-item")||t.hasClass("lg-img-wrap")&&s)&&(e.outer.hasClass("lg-dragging")||e.destroy())}))},d.prototype.destroy=function(t){var e=this;t||(this.LGel.trigger("onBeforeClose.lg"),y(window).scrollTop(this.prevScrollTop));var s,i=y("#"+this.getById("lg-backdrop"));if(this.s.dynamic||(r=v(this.items[this.index]),s=n(this.items[this.index],r)),this.s.zoomFromImage&&s?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("start-end-progress").css("transition-duration",this.s.startAnimationDuration+"ms").css("transform",s)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),t){if(!this.s.dynamic)for(var o=0;o<this.items.length;o++){y(this.items[o]).off("click.lg-item-"+o+" click.lgcustom-item-"+o)}for(var l in this.modules)if(this.modules[l])try{this.modules[l].destroy()}catch(t){console.warn("lightGallery:- make sure lightGallery "+l+" module is properly destroyed")}y(window).off("lg")}this.lGalleryOn=!1,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,y(document.body).removeClass("lg-on lg-from-hash"),this.outer.removeClass("lg-visible"),i.removeClass("in").css("opacity",0);var r=this.s.zoomFromImage&&s?this.s.startAnimationDuration:this.s.backdropDuration;y("#"+this.getById("lg-container")).removeClass("lg-show-in"),y(window).off("keyup.lg.window"),y(window).off("keydown.lg"),setTimeout(function(){e.s.zoomFromImage&&s&&e.outer.removeClass("lg-zoom-from-image"),y("#"+e.getById("lg-container")).removeClass("lg-show"),i.removeAttr("style"),e.outer.removeClass("lg-closing "+e.s.startClass),e.getSlideItem(e.index).removeClass("start-end-progress"),y("#"+e.getById("lg-inner")).empty(),t&&(e.outer&&e.outer.remove(),i.remove()),t||e.LGel.trigger("onCloseAfter.lg"),e.LGel.get().focus(),e.lgOpened=!1},r+100)},d);function d(t,e){if(this.lgOpened=!1,this.index=0,this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,r++,this.lgId=r,this.el=t,this.LGel=y(t),this.s=Object.assign({},l,e),this.s.dynamic&&void 0!==this.s.dynamicEl&&!Array.isArray(this.s.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.galleryItems=this.getItems(),this.s.dynamic&&(this.s.zoomFromImage=!1),this.s.preload&&this.s.preload>(this.s.dynamicEl||[]).length&&(this.s.preload=(this.s.dynamicEl||[]).length),this.init(),this}window.lightGallery=function(t,e){if(t)try{return new a(t,e)}catch(t){console.error("lightGallery has not initiated properly",t)}},t.LightGallery=a,Object.defineProperty(t,"__esModule",{value:!0})});
