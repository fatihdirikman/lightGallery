/**
 * lightgallery | 0.0.0 | December 24th 2020
 * http://sachinchoolur.github.io/lightGallery/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 */

!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o(t.lgAutoplay={})}(this,function(t){"use strict";var o={autoplay:!1,pause:5e3,progressBar:!0,fourceAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar"},e=(s.prototype.init=function(){var t=this;this.s.autoplayControls&&this.controls(),this.s.progressBar&&this.core.outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),this.progress(),this.s.autoplay&&this.core.LGel.once("onSlideItemLoad.lg.tm",function(){t.startAuto()}),this.core.LGel.on("onDragstart.lg.tm touchstart.lg.tm",function(){t.interval&&(t.cancelAuto(),t.canceledOnTouch=!0)}),this.core.LGel.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",function(){!t.interval&&t.canceledOnTouch&&(t.startAuto(),t.canceledOnTouch=!1)})},s.prototype.progress=function(){var e=this;this.core.LGel.on("onBeforeSlide.lg.tm",function(){var t,o;e.s.progressBar&&e.fromAuto&&(t=e.core.outer.find(".lg-progress-bar"),o=e.core.outer.find(".lg-progress"),e.interval&&(o.removeAttr("style"),t.removeClass("lg-start"),setTimeout(function(){o.css("transition","width "+(e.core.s.speed+e.s.pause)+"ms ease 0s"),t.addClass("lg-start")},20))),e.fromAuto||e.s.fourceAutoplay||e.cancelAuto(),e.fromAuto=!1})},s.prototype.controls=function(){var t=this;this.core.outer.find(this.s.appendAutoplayControlsTo).append('<span class="lg-autoplay-button lg-icon"></span>'),this.core.outer.find(".lg-autoplay-button").on("click.lg",function(){t.core.outer.hasClass("lg-show-autoplay")?(t.cancelAuto(),t.s.fourceAutoplay=!1):t.interval||(t.startAuto(),t.s.fourceAutoplay=t.fourceAutoplayTemp)})},s.prototype.startAuto=function(){var t=this;this.core.outer.find(".lg-progress").css("transition","width "+(this.core.s.speed+this.s.pause)+"ms ease 0s"),this.core.outer.addClass("lg-show-autoplay"),this.core.outer.find(".lg-progress-bar").addClass("lg-start"),this.interval=setInterval(function(){t.core.index+1<t.core.$items.length?t.core.index++:t.core.index=0,t.fromAuto=!0,t.core.slide(t.core.index,!1,!1,"next")},this.core.s.speed+this.s.pause)},s.prototype.cancelAuto=function(){clearInterval(this.interval),this.interval=!1,this.core.outer.find(".lg-progress").removeAttr("style"),this.core.outer.removeClass("lg-show-autoplay"),this.core.outer.find(".lg-progress-bar").removeClass("lg-start")},s.prototype.destroy=function(){this.cancelAuto(),this.core.outer.find(".lg-progress-bar").remove()},s);function s(t){return this.core=t,this.s=Object.assign({},o),this.core.$items.length<2||(this.interval=!1,this.fromAuto=!0,this.canceledOnTouch=!1,this.fourceAutoplayTemp=this.s.fourceAutoplay,this.core.doCss()||(this.s.progressBar=!1),this.init()),this}window.lgModules=window.lgModules||{},window.lgModules.autoplay=e,t.Autoplay=e,Object.defineProperty(t,"__esModule",{value:!0})});
