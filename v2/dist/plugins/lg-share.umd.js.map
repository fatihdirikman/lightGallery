{"version":3,"file":"lg-share.umd.js","sources":["../../src/plugins/share/lg-share-settings.ts","../../src/plugins/share/lg-share-utils.ts","../../src/plugins/share/lg-share-markup.ts","../../src/plugins/share/lg-fb-share-utils.ts","../../src/plugins/share/lg-twitter-share-utils.ts","../../src/plugins/share/lg-pinterest-share-utils.ts","../../src/plugins/share/lg-share.ts"],"sourcesContent":["export interface ShareSettings {\n    share: boolean;\n    facebook: boolean;\n    facebookDropdownText: string;\n    twitter: boolean;\n    twitterDropdownText: string;\n    pinterest: boolean;\n    pinterestDropdownText: string;\n}\n\nexport const shareSettings = {\n    share: true,\n    facebook: true,\n    facebookDropdownText: 'Facebook',\n    twitter: true,\n    twitterDropdownText: 'Twitter',\n    pinterest: true,\n    pinterestDropdownText: 'Pinterest',\n};\n","export function getShareListHTML(\n    type: 'facebook' | 'twitter' | 'pinterest',\n    text: string,\n): string {\n    return `<li><a class=\"lg-share-${type}\" target=\"_blank\"><span class=\"lg-icon\"></span><span class=\"lg-dropdown-text\">${text}</span></a></li>`;\n}\n","import { lgQuery } from '../../lgQuery';\n\nexport default function (selector: lgQuery): void {\n    selector.find('.lg-toolbar').append(\n        `<button type=\"button aria-label=\"Share\" aria-haspopup=\"true\" aria-expanded=\"false\" class=\"lg-share lg-icon\">\n            <ul class=\"lg-dropdown\" style=\"position: absolute;\"></ul></button>`,\n    );\n\n    selector.find('.lg').append('<div class=\"lg-dropdown-overlay\"></div>');\n    const $shareButton = selector.find('.lg-share');\n    $shareButton.first().on('click.lg', () => {\n        selector.toggleClass('lg-dropdown-active');\n        if (selector.hasClass('lg-dropdown-active')) {\n            selector.attr('aria-expanded', true);\n        } else {\n            selector.attr('aria-expanded', false);\n        }\n    });\n\n    selector\n        .find('.lg-dropdown-overlay')\n        .first()\n        .on('click.lg', () => {\n            selector.removeClass('lg-dropdown-active');\n            selector.attr('aria-expanded', false);\n        });\n}\n","import { DynamicItem } from '../../lg-utils';\nimport { lgQuery } from '../../lgQuery';\n\nfunction getFacebookShareLink(galleryItem: DynamicItem) {\n    const facebookBaseUrl = '//www.facebook.com/sharer/sharer.php?u=';\n    return (\n        facebookBaseUrl +\n        encodeURIComponent(galleryItem.facebookShareUrl || window.location.href)\n    );\n}\nexport function setFacebookShareLink(\n    selector: lgQuery,\n    galleryItem: DynamicItem,\n): void {\n    const href = getFacebookShareLink(galleryItem);\n    selector.attr('href', href);\n}\n","import { DynamicItem } from '../../lg-utils';\nimport { lgQuery } from '../../lgQuery';\n\nfunction getTwitterShareLink(galleryItem: DynamicItem) {\n    const twitterBaseUrl = '//twitter.com/intent/tweet?text=';\n    const url = encodeURIComponent(\n        galleryItem.twitterShareUrl || window.location.href,\n    );\n    const text = galleryItem.tweetText;\n    return twitterBaseUrl + text + '&url=' + url;\n}\n\nexport function setTwitterShareLink(\n    selector: lgQuery,\n    galleryItem: DynamicItem,\n): void {\n    const href = getTwitterShareLink(galleryItem);\n    selector.attr('href', href);\n}\n","import { DynamicItem } from '../../lg-utils';\nimport { lgQuery } from '../../lgQuery';\n\nfunction getPinterestShareLink(galleryItem: DynamicItem) {\n    const pinterestBaseUrl = 'http://www.pinterest.com/pin/create/button/?url=';\n    const description = galleryItem.pinterestText;\n    const media = encodeURIComponent(galleryItem.src);\n    const url = encodeURIComponent(\n        galleryItem.pinterestShareUrl || window.location.href,\n    );\n    return (\n        pinterestBaseUrl +\n        url +\n        '&media=' +\n        media +\n        '&description=' +\n        description\n    );\n}\n\nexport function setPinterestShareLink(\n    selector: lgQuery,\n    galleryItem: DynamicItem,\n): void {\n    const href = getPinterestShareLink(galleryItem);\n    selector.attr('href', href);\n}\n","import { ShareSettings, shareSettings } from './lg-share-settings';\n\nimport { getShareListHTML } from './lg-share-utils';\nimport setLgShareMarkup from './lg-share-markup';\n\nimport { setFacebookShareLink } from './lg-fb-share-utils';\nimport { setTwitterShareLink } from './lg-twitter-share-utils';\nimport { setPinterestShareLink } from './lg-pinterest-share-utils';\nimport { LightGallery } from '../../lightgallery';\n\nexport class Share {\n    core: LightGallery;\n    s: ShareSettings;\n    constructor(instance: LightGallery) {\n        // get lightGallery core plugin data\n        this.core = instance;\n        // extend module default settings with lightGallery core settings\n        this.s = Object.assign({}, shareSettings, this.core.s);\n\n        this.init();\n\n        return this;\n    }\n\n    init() {\n        setLgShareMarkup(this.core.outer);\n\n        this.core.outer\n            .find('.lg-share .lg-dropdown')\n            .append(this.getShareListHtml());\n\n        this.core.LGel.on(\n            'onAfterSlide.lg.share',\n            this.onAfterSlide.bind(this),\n        );\n    }\n\n    getShareListHtml() {\n        let shareHtml = '';\n        shareHtml += this.s.facebook\n            ? getShareListHTML('facebook', this.s.facebookDropdownText)\n            : '';\n        shareHtml += this.s.twitter\n            ? getShareListHTML('twitter', this.s.twitterDropdownText)\n            : '';\n        shareHtml += this.s.pinterest\n            ? getShareListHTML('pinterest', this.s.pinterestDropdownText)\n            : '';\n        return shareHtml;\n    }\n\n    onAfterSlide(event: CustomEvent) {\n        const { index } = event.detail;\n        console.log('calling');\n        setTimeout(() => {\n            setFacebookShareLink(\n                this.core.outer.find('.lg-share-facebook'),\n                this.core.galleryItems[index],\n            );\n\n            setTwitterShareLink(\n                this.core.outer.find('.lg-share-twitter'),\n                this.core.galleryItems[index],\n            );\n\n            setPinterestShareLink(\n                this.core.outer.find('.lg-share-pinterest'),\n                this.core.galleryItems[index],\n            );\n        }, 100);\n    }\n    destroy(clear?: boolean): void {\n        if (clear) {\n            this.core.outer.find('.lg-dropdown-overlay').remove();\n            this.core.outer.find('.lg-share').remove();\n            this.core.LGel.off('.lg.share');\n        }\n    }\n}\n\nwindow.lgModules = window.lgModules || {};\nwindow.lgModules.share = Share;\n"],"names":[],"mappings":"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"}