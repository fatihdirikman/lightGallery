{"version":3,"file":"lg-share.es5.js","sources":["../../src/plugins/share/lg-share-settings.ts","../../src/plugins/share/lg-share-utils.ts","../../src/plugins/share/lg-share-markup.ts","../../src/plugins/share/lg-fb-share-utils.ts","../../src/plugins/share/lg-twitter-share-utils.ts","../../src/plugins/share/lg-pinterest-share-utils.ts","../../src/plugins/share/lg-share.ts"],"sourcesContent":["export interface ShareSettings {\n    share: boolean;\n    facebook: boolean;\n    facebookDropdownText: string;\n    twitter: boolean;\n    twitterDropdownText: string;\n    pinterest: boolean;\n    pinterestDropdownText: string;\n}\n\nexport const shareSettings = {\n    share: true,\n    facebook: true,\n    facebookDropdownText: 'Facebook',\n    twitter: true,\n    twitterDropdownText: 'Twitter',\n    pinterest: true,\n    pinterestDropdownText: 'Pinterest',\n};\n","export function getShareListHTML(\n    type: 'facebook' | 'twitter' | 'pinterest',\n    text: string,\n): string {\n    return `<li><a class=\"lg-share-${type}\" target=\"_blank\"><span class=\"lg-icon\"></span><span class=\"lg-dropdown-text\">${text}</span></a></li>`;\n}\n","import { lgQuery } from '../../lgQuery';\n\nexport default function (selector: lgQuery): void {\n    selector.find('.lg-toolbar').append(\n        `<button type=\"button aria-label=\"Share\" aria-haspopup=\"true\" aria-expanded=\"false\" class=\"lg-share lg-icon\">\n            <ul class=\"lg-dropdown\" style=\"position: absolute;\"></ul></button>`,\n    );\n\n    selector.find('.lg').append('<div class=\"lg-dropdown-overlay\"></div>');\n    const $shareButton = selector.find('.lg-share');\n    $shareButton.first().on('click.lg', () => {\n        selector.toggleClass('lg-dropdown-active');\n        if (selector.hasClass('lg-dropdown-active')) {\n            selector.attr('aria-expanded', true);\n        } else {\n            selector.attr('aria-expanded', false);\n        }\n    });\n\n    selector\n        .find('.lg-dropdown-overlay')\n        .first()\n        .on('click.lg', () => {\n            selector.removeClass('lg-dropdown-active');\n            selector.attr('aria-expanded', false);\n        });\n}\n","import { DynamicItem } from '../../lg-utils';\nimport { lgQuery } from '../../lgQuery';\n\nfunction getFacebookShareLink(galleryItem: DynamicItem) {\n    const facebookBaseUrl = '//www.facebook.com/sharer/sharer.php?u=';\n    return (\n        facebookBaseUrl +\n        encodeURIComponent(galleryItem.facebookShareUrl || window.location.href)\n    );\n}\nexport function setFacebookShareLink(\n    selector: lgQuery,\n    galleryItem: DynamicItem,\n): void {\n    const href = getFacebookShareLink(galleryItem);\n    selector.attr('href', href);\n}\n","import { DynamicItem } from '../../lg-utils';\nimport { lgQuery } from '../../lgQuery';\n\nfunction getTwitterShareLink(galleryItem: DynamicItem) {\n    const twitterBaseUrl = '//twitter.com/intent/tweet?text=';\n    const url = encodeURIComponent(\n        galleryItem.twitterShareUrl || window.location.href,\n    );\n    const text = galleryItem.tweetText;\n    return twitterBaseUrl + text + '&url=' + url;\n}\n\nexport function setTwitterShareLink(\n    selector: lgQuery,\n    galleryItem: DynamicItem,\n): void {\n    const href = getTwitterShareLink(galleryItem);\n    selector.attr('href', href);\n}\n","import { DynamicItem } from '../../lg-utils';\nimport { lgQuery } from '../../lgQuery';\n\nfunction getPinterestShareLink(galleryItem: DynamicItem) {\n    const pinterestBaseUrl = 'http://www.pinterest.com/pin/create/button/?url=';\n    const description = galleryItem.pinterestText;\n    const media = encodeURIComponent(galleryItem.src);\n    const url = encodeURIComponent(\n        galleryItem.pinterestShareUrl || window.location.href,\n    );\n    return (\n        pinterestBaseUrl +\n        url +\n        '&media=' +\n        media +\n        '&description=' +\n        description\n    );\n}\n\nexport function setPinterestShareLink(\n    selector: lgQuery,\n    galleryItem: DynamicItem,\n): void {\n    const href = getPinterestShareLink(galleryItem);\n    selector.attr('href', href);\n}\n","import { ShareSettings, shareSettings } from './lg-share-settings';\n\nimport { getShareListHTML } from './lg-share-utils';\nimport setLgShareMarkup from './lg-share-markup';\n\nimport { setFacebookShareLink } from './lg-fb-share-utils';\nimport { setTwitterShareLink } from './lg-twitter-share-utils';\nimport { setPinterestShareLink } from './lg-pinterest-share-utils';\nimport { LightGallery } from '../../lightgallery';\n\nexport class Share {\n    core: LightGallery;\n    s: ShareSettings;\n    constructor(instance: LightGallery) {\n        // get lightGallery core plugin data\n        this.core = instance;\n        // extend module default settings with lightGallery core settings\n        this.s = Object.assign({}, shareSettings, this.core.s);\n\n        this.init();\n\n        return this;\n    }\n\n    init() {\n        setLgShareMarkup(this.core.outer);\n\n        this.core.outer\n            .find('.lg-share .lg-dropdown')\n            .append(this.getShareListHtml());\n\n        this.core.LGel.on(\n            'onAfterSlide.lg.share',\n            this.onAfterSlide.bind(this),\n        );\n    }\n\n    getShareListHtml() {\n        let shareHtml = '';\n        shareHtml += this.s.facebook\n            ? getShareListHTML('facebook', this.s.facebookDropdownText)\n            : '';\n        shareHtml += this.s.twitter\n            ? getShareListHTML('twitter', this.s.twitterDropdownText)\n            : '';\n        shareHtml += this.s.pinterest\n            ? getShareListHTML('pinterest', this.s.pinterestDropdownText)\n            : '';\n        return shareHtml;\n    }\n\n    onAfterSlide(event: CustomEvent) {\n        const { index } = event.detail;\n        console.log('calling');\n        setTimeout(() => {\n            setFacebookShareLink(\n                this.core.outer.find('.lg-share-facebook'),\n                this.core.galleryItems[index],\n            );\n\n            setTwitterShareLink(\n                this.core.outer.find('.lg-share-twitter'),\n                this.core.galleryItems[index],\n            );\n\n            setPinterestShareLink(\n                this.core.outer.find('.lg-share-pinterest'),\n                this.core.galleryItems[index],\n            );\n        }, 100);\n    }\n    destroy(clear?: boolean): void {\n        if (clear) {\n            this.core.outer.find('.lg-dropdown-overlay').remove();\n            this.core.outer.find('.lg-share').remove();\n            this.core.LGel.off('.lg.share');\n        }\n    }\n}\n\nwindow.lgModules = window.lgModules || {};\nwindow.lgModules.share = Share;\n"],"names":[],"mappings":"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"}