/**
 * lightgallery | 2.0.0-beta.2 | April 29th 2021
 * http://sachinchoolur.github.io/lightGallery/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lgHash=e()}(this,function(){"use strict";var o=function(){return(o=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var s in e=arguments[o])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},t="lgAfterSlide",e="lgAfterClose",i={hash:!0};function s(t,e){return this.core=t,this.$LG=e,this.settings=o(o({},i),this.core.settings),this.settings.hash&&(this.oldHash=window.location.hash,this.init()),this}return s.prototype.init=function(){this.core.LGel.on(t+".hash",this.onAfterSlide.bind(this)),this.core.LGel.on(e+".hash",this.onCloseAfter.bind(this)),this.$LG(window).on("hashchange.lg.hash.global"+this.core.lgId,this.onHashchange.bind(this))},s.prototype.onAfterSlide=function(t){var e=this.core.galleryItems[t.detail.index].slideName,e=this.core.settings.customSlideName&&e||t.detail.index;history.replaceState?history.replaceState(null,"",window.location.pathname+window.location.search+"#lg="+this.core.settings.galleryId+"&slide="+e):window.location.hash="lg="+this.core.settings.galleryId+"&slide="+e},s.prototype.onCloseAfter=function(){this.oldHash&&this.oldHash.indexOf("lg="+this.core.settings.galleryId)<0?history.replaceState?history.replaceState(null,"",this.oldHash):window.location.hash=this.oldHash:history.replaceState?history.replaceState(null,document.title,window.location.pathname+window.location.search):window.location.hash=""},s.prototype.onHashchange=function(){var t,e;this.core.lgOpened&&(t=window.location.hash,e=this.core.getIndexFromUrl(t),-1<t.indexOf("lg="+this.core.settings.galleryId)?this.core.slide(e,!1,!1):this.core.lGalleryOn&&this.core.closeGallery())},s.prototype.closeGallery=function(){this.settings.hash},s.prototype.destroy=function(){this.core.LGel.off(".lg.hash"),this.core.LGel.off(".hash"),this.$LG(window).off("hashchange.lg.hash.global"+this.core.lgId)},s});
