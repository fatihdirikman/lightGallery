(function(a){a.fn.lightGallery=function(e){var m={mode:"slide",useCSS:true,cssEasing:"ease",easing:"linear",speed:600,addClass:"",closable:true,loop:false,auto:false,pause:4000,escKey:true,controls:true,hideControlOnEnd:false,preload:1,showAfterLoad:true,selector:null,index:false,html:false,lang:{allPhotos:"All photos"},counter:false,exThumbImage:false,thumbnail:true,animateThumb:true,currentPagerPosition:"middle",thumbWidth:100,thumbMargin:5,mobileSrc:false,mobileSrcMaxWidth:640,swipeThreshold:50,vimeoColor:"CCCCCC",videoAutoplay:true,videoMaxWidth:855,dynamic:false,dynamicEl:[],onOpen:function(C){},onSlideBefore:function(C){},onSlideAfter:function(C){},onSlideNext:function(C){},onSlidePrev:function(C){},onBeforeClose:function(C){},onCloseAfter:function(C){}},b=a(this),f=this,o=null,h=0,c=false,t=false,d=false,n=document.createTouch!==undefined||("ontouchstart" in window)||("onmsgesturechange" in window)||navigator.msMaxTouchPoints,B,j,x,p,u,y,i,q,l,A,z,r=false,g=false,w=false;
var v=a.extend(true,{},m,e);var k={init:function(){b.each(function(){var C=a(this);if(v.dynamic==true){o=v.dynamicEl;h=0;i=h;s.init(h);}else{if(v.selector!==null){o=a(v.selector);
}else{o=C.children();}o.on("click",function(D){if(v.selector!==null){o=a(v.selector);}else{o=C.children();}D.preventDefault();D.stopPropagation();h=o.index(this);
i=h;s.init(h);});}});}};var s={init:function(){t=true;this.structure();this.getWidth();this.closeSlide();this.autoStart();this.counter();this.slideTo();
this.buildThumbnail();this.keyPress();if(v.index){this.slide(v.index);this.animateThumb(v.index);}else{this.slide(h);this.animateThumb(h);}if(c==false){this.touch();
}this.enableTouch();setTimeout(function(){B.addClass("opacity");},50);},structure:function(){a("body").append('<div id="lightGallery-outer" class="'+v.addClass+'"><div id="lightGallery-Gallery"><div id="lightGallery-slider"></div><a id="lightGallery-close" class="close"></a></div></div>').addClass("lightGallery");
j=a("#lightGallery-outer");B=a("#lightGallery-Gallery");if(v.showAfterLoad===true){B.addClass("showAfterLoad");}x=B.find("#lightGallery-slider");var D="";
if(v.dynamic==true){for(var C=0;C<v.dynamicEl.length;C++){D+='<div class="lightGallery-slide"></div>';}}else{o.each(function(){D+='<div class="lightGallery-slide"></div>';
});}x.append(D);p=B.find(".lightGallery-slide");},closeSlide:function(){var C=this;if(v.closable){a("#lightGallery-outer").on("click",function(D){if(c){if(a(D.target).is("#lightGallery-outer")||a(D.target).is(".prevSlide")||a(D.target).is(".nextSlide")||a(D.target).is(".prevSlide *")||a(D.target).is(".nextSlide *")){f.destroy(false);
}}else{if(a(D.target).is(".lightGallery-slide")){f.destroy(false);}}});}a("#lightGallery-close").bind("click touchend",function(){f.destroy(false);});},getWidth:function(){var C=function(){A=a(window).width();
};a(window).bind("resize.lightGallery",C());},doCss:function(){var C=function(){var F=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"];
var D=document.documentElement;for(var E=0;E<F.length;E++){if(F[E] in D.style){return true;}}};if(v.useCSS&&C()){return true;}return false;},enableTouch:function(){var E=this;
if(n){var D={},C={};a("body").on("touchstart.lightGallery",function(F){C=F.originalEvent.targetTouches[0];D.pageX=F.originalEvent.targetTouches[0].pageX;
D.pageY=F.originalEvent.targetTouches[0].pageY;});a("body").on("touchmove.lightGallery",function(F){var G=F.originalEvent;C=G.targetTouches[0];F.preventDefault();
});a("body").on("touchend.lightGallery",function(G){var H=C.pageX-D.pageX,F=v.swipeThreshold;if(H>=F){E.prevSlide();clearInterval(z);}else{if(H<=-F){E.nextSlide();
clearInterval(z);}}});}},touch:function(){var E,C;var D=this;a(".lightGallery").bind("mousedown",function(F){F.stopPropagation();F.preventDefault();E=F.pageX;
});a(".lightGallery").bind("mouseup",function(F){F.stopPropagation();F.preventDefault();C=F.pageX;if(C-E>20){D.prevSlide();}else{if(E-C>20){D.nextSlide();
}}});},isVideo:function(G,D){var E=G.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9_\-]+)/i);var C=G.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);
var F=false;if(v.dynamic==true){if(v.dynamicEl[D]["iframe"]=="true"){F=true;}}else{if(o.eq(D).attr("data-iframe")==="true"){F=true;}}if(E||C||F){return true;
}},loadVideo:function(H,F){var E=H.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9_\-]+)/i);var D=H.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);
var G="";var C="";if(E){if(v.videoAutoplay===true&&d===false){C="?autoplay=1&rel=0&wmode=opaque";}else{C="?wmode=opaque";}G='<iframe class="object" width="560" height="315" src="//www.youtube.com/embed/'+E[1]+C+'" frameborder="0" allowfullscreen></iframe>';
}else{if(D){if(v.videoAutoplay===true&&d===false){C="autoplay=1&amp;";}else{C="";}G='<iframe class="object" id="video'+F+'" width="560" height="315"  src="http://player.vimeo.com/video/'+D[1]+"?"+C+"byline=0&amp;portrait=0&amp;color="+v.vimeoColor+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';
}else{G='<iframe class="object" frameborder="0" src="'+H+'"  allowfullscreen="true"></iframe>';}}return'<div class="video_cont" style="max-width:'+v.videoMaxWidth+'px !important;"><div class="video">'+G+"</div></div>";
},addHtml:function(D){if(v.html===true){var F=false,E=null,C=null,H=null;if(v.dynamic==true){C=v.dynamicEl[D]["html"];H=v.dynamicEl[D]["url"];}else{C=o.eq(D).attr("data-html"),H=o.eq(D).attr("data-url");
}if(typeof C!=="undefined"&&C!==null){var G=C.substring(0,1);if(G=="."||G=="#"){E=a(C).html();}else{E=C;}}else{if(typeof H!=="undefined"&&H!==null){E=H;
F=true;}}if(typeof E!=="undefined"&&E!==null&&!p.eq(D).hasClass("loaded")){if(!F){p.eq(D).append(E);}else{p.eq(D).append('<div class="ext info group"></div>');
p.eq(D).find(".ext").load(E);}}}},preload:function(D){var E=D;for(var C=0;C<=v.preload;C++){if(C>=o.length-D){break;}this.loadContent(E+C,true);}for(var F=0;
F<=v.preload;F++){if(E-F<0){break;}this.loadContent(E-F,true);}},loadObj:function(D,C){var E=this;p.eq(C).find(".object").on("load error",function(){p.eq(C).addClass("complete");
});if(D===false){if(!p.eq(C).hasClass("complete")){p.eq(C).find(".object").on("load error",function(){E.preload(C);});}else{E.preload(C);}}},loadContent:function(E,J){var H=this;
var F,D,C=o.length-E;var I;if(v.preload>o.length){v.preload=o.length;}if(v.mobileSrc===true&&A<=v.mobileSrcMaxWidth){if(v.dynamic==true){I=v.dynamicEl[E]["mobileSrc"];
}else{I=o.eq(E).attr("data-responsive-src");}}else{if(v.dynamic==true){I=v.dynamicEl[E]["src"];}else{I=o.eq(E).attr("data-src");}}var G=0;if(J===true){G=v.speed+400;
}if(typeof I!=="undefined"&&I!==null){c=false;if(!H.isVideo(I,E)){setTimeout(function(){if(!p.eq(E).hasClass("loaded")){p.eq(E).prepend('<img class="object" src="'+I+'" />');
H.addHtml(E);p.eq(E).addClass("loaded");}H.loadObj(J,E);},G);}else{setTimeout(function(){if(!p.eq(E).hasClass("loaded")){p.eq(E).prepend(H.loadVideo(I,E));
H.addHtml(E);p.eq(E).addClass("loaded");if(v.auto&&v.videoAutoplay===true){clearInterval(z);}}H.loadObj(J,E);},G);}}else{c=true;H.addHtml(E);j.addClass("external");
p.eq(E).addClass("loaded complete");}},counter:function(){if(v.counter===true){var C=a("#lightGallery-slider > div").length;B.append("<div id='lightGallery_counter'><span id='lightGallery_counter_current'></span> / <span id='lightGallery_counter_all'>"+C+"</span></div>");
}},buildThumbnail:function(){if(v.thumbnail===true&&o.length>1){var H=this;B.append('<div class="thumb_cont"><div class="thumb_info"><span class="close ib"><i class="bUi-iCn-rMv-16" aria-hidden="true"></i></span></div><div class="thumb_inner"></div></div>');
q=B.find(".thumb_cont");u.after('<a class="cLthumb"></a>');u.parent().addClass("hasThumb");B.find(".cLthumb").bind("click touchend",function(){q.addClass("open");
if(H.doCss()&&v.mode==="slide"){p.eq(h).prevAll().removeClass("nextSlide").addClass("prevSlide");p.eq(h).nextAll().removeClass("prevSlide").addClass("nextSlide");
}});B.find(".close").bind("click touchend",function(){q.removeClass("open");});var G=B.find(".thumb_info");var C=B.find(".thumb_inner");var E="";var I;
if(v.dynamic==true){for(var D=0;D<v.dynamicEl.length;D++){I=v.dynamicEl[D]["thumb"];E+='<div class="thumb"><img src="'+I+'" /></div>';}}else{o.each(function(){if(v.exThumbImage===false||typeof a(this).attr(v.exThumbImage)=="undefined"||a(this).attr(v.exThumbImage)==null){I=a(this).find("img").attr("src");
}else{I=a(this).attr(v.exThumbImage);}E+='<div class="thumb"><img src="'+I+'" /></div>';});}C.append(E);l=C.find(".thumb");l.css({"margin-right":v.thumbMargin+"px",width:v.thumbWidth+"px"});
if(v.animateThumb===true){var F=(o.length*(v.thumbWidth+v.thumbMargin));B.find(".thumb_inner").css({width:F+"px",position:"relative","transition-duration":v.speed+"ms"});
}l.bind("click touchend",function(){r=true;var J=a(this).index();l.removeClass("active");a(this).addClass("active");H.slide(J);H.animateThumb(J);clearInterval(z);
});G.prepend('<span class="ib count">'+v.lang.allPhotos+" ("+l.length+")</span>");}},animateThumb:function(D){if(v.animateThumb===true){var E=B.find(".thumb_cont").width();
var C;switch(v.currentPagerPosition){case"left":C=0;break;case"middle":C=(E/2)-(v.thumbWidth/2);break;case"right":C=E-v.thumbWidth;}var G=((v.thumbWidth+v.thumbMargin)*D-1)-C;
var F=(o.length*(v.thumbWidth+v.thumbMargin));if(G>(F-E)){G=F-E;}if(G<0){G=0;}if(this.doCss()){B.find(".thumb_inner").css("transform","translate3d(-"+G+"px, 0px, 0px)");
}else{B.find(".thumb_inner").animate({left:-G+"px"},v.speed);}}},slideTo:function(){var C=this;if(v.controls===true&&o.length>1){B.append('<div id="lightGallery-action"><a id="lightGallery-prev"></a><a id="lightGallery-next"></a></div>');
u=B.find("#lightGallery-prev");y=B.find("#lightGallery-next");u.bind("click",function(){C.prevSlide();clearInterval(z);});y.bind("click",function(){C.nextSlide();
clearInterval(z);});}},autoStart:function(){var C=this;if(v.auto===true){z=setInterval(function(){if(h+1<o.length){h=h;}else{h=-1;}h++;C.slide(h);},v.pause);
}},keyPress:function(){var C=this;a(window).bind("keyup.lightGallery",function(D){D.preventDefault();D.stopPropagation();if(D.keyCode===37){C.prevSlide();
clearInterval(z);}if(D.keyCode===38&&v.thumbnail===true){if(!q.hasClass("open")){if(C.doCss()&&v.mode==="slide"){p.eq(h).prevAll().removeClass("nextSlide").addClass("prevSlide");
p.eq(h).nextAll().removeClass("prevSlide").addClass("nextSlide");}q.addClass("open");}}else{if(D.keyCode===39){C.nextSlide();clearInterval(z);}}if(D.keyCode===40&&v.thumbnail===true){if(q.hasClass("open")){q.removeClass("open");
}}else{if(v.escKey===true&&D.keyCode===27){if(v.thumbnail===true&&q&&q.hasClass("open")){q.removeClass("open");}else{f.destroy(false);}}}});},nextSlide:function(){var C=this;
h=p.index(p.eq(i));if(h+1<o.length){h++;C.slide(h);}else{if(v.loop){h=0;C.slide(h);}else{if(v.thumbnail===true&&o.length>1){q.addClass("open");}else{p.eq(h).find(".object").addClass("rightEnd");
setTimeout(function(){p.find(".object").removeClass("rightEnd");},400);}}}C.animateThumb(h);v.onSlideNext.call(this,f);},prevSlide:function(){var C=this;
h=p.index(p.eq(i));if(h>0){h--;C.slide(h);}else{if(v.loop){h=o.length-1;C.slide(h);}else{if(v.thumbnail===true&&o.length>1){q.addClass("open");}else{p.eq(h).find(".object").addClass("leftEnd");
setTimeout(function(){p.find(".object").removeClass("leftEnd");},400);}}}C.animateThumb(h);v.onSlidePrev.call(this,f);},slide:function(E){var F=this;if(d){setTimeout(function(){F.loadContent(E,false);
},v.speed+400);if(!x.hasClass("on")){x.addClass("on");}if(this.doCss()&&v.speed!==""){if(!x.hasClass("speed")){x.addClass("speed");}if(w===false){x.css("transition-duration",v.speed+"ms");
w=true;}}if(this.doCss()&&v.cssEasing!==""){if(!x.hasClass("timing")){x.addClass("timing");}if(g===false){x.css("transition-timing-function",v.cssEasing);
g=true;}}v.onSlideBefore.call(this,f);}else{F.loadContent(E,false);}if(v.mode==="slide"){var D=navigator.userAgent.match(/iPad/i)!=null;if(this.doCss()&&!x.hasClass("slide")&&!D){x.addClass("slide");
}else{if(this.doCss()&&!x.hasClass("useLeft")&&D){x.addClass("useLeft");}}if(!this.doCss()&&!d){x.css({left:(-E*100)+"%"});}else{if(!this.doCss()&&d){x.animate({left:(-E*100)+"%"},v.speed,v.easing);
}}}else{if(v.mode==="fade"){if(this.doCss()&&!x.hasClass("fadeM")){x.addClass("fadeM");}else{if(!this.doCss()&&!x.hasClass("animate")){x.addClass("animate");
}}if(!this.doCss()&&!d){p.fadeOut(100);p.eq(E).fadeIn(100);}else{if(!this.doCss()&&d){p.eq(i).fadeOut(v.speed,v.easing);p.eq(E).fadeIn(v.speed,v.easing);
}}}}if(E+1>=o.length&&v.auto&&v.loop===false){clearInterval(z);}p.eq(i).removeClass("current");p.eq(E).addClass("current");if(this.doCss()&&v.mode==="slide"){if(r===false){a(".prevSlide").removeClass("prevSlide");
a(".nextSlide").removeClass("nextSlide");p.eq(E-1).addClass("prevSlide");p.eq(E+1).addClass("nextSlide");}else{p.eq(E).prevAll().removeClass("nextSlide").addClass("prevSlide");
p.eq(E).nextAll().removeClass("prevSlide").addClass("nextSlide");}}if(v.thumbnail===true&&o.length>1){l.removeClass("active");l.eq(E).addClass("active");
}if(v.controls&&v.hideControlOnEnd&&v.loop===false&&o.length>1){var C=o.length;C=parseInt(C)-1;if(E===0){u.addClass("disabled");y.removeClass("disabled");
}else{if(E===C){u.removeClass("disabled");y.addClass("disabled");}else{u.add(y).removeClass("disabled");}}}i=E;d===false?v.onOpen.call(this,f):v.onSlideAfter.call(this,f);
setTimeout(function(){d=true;});r=false;if(v.counter){a("#lightGallery_counter_current").text(E+1);}if(c){p.css("height",a(window).height());a(window).on("resize.lightGallery",function(){p.css("height",a(window).height());
});}a(window).bind("resize.lightGallery",function(){setTimeout(function(){F.animateThumb(E);},200);});}};f.isActive=function(){if(t===true){return true;
}else{return false;}};f.destroy=function(D){t=false;D=typeof D!=="undefined"?false:true;v.onBeforeClose.call(this,f);var C=d;d=false;g=false;w=false;r=false;
clearInterval(z);if(D===true){o.off("click touch touchstart");}a(".lightGallery").off("mousedown mouseup");a("body").off("touchstart.lightGallery touchmove.lightGallery touchend.lightGallery");
a(window).off("resize.lightGallery keyup.lightGallery");if(C===true){B.addClass("fadeM");setTimeout(function(){j.remove();a("body").removeClass("lightGallery");
},500);}v.onCloseAfter.call(this,f);};k.init();return this;};}(jQuery));